<!-- MATCHES VIEW TEMPLATE -->
<div class="bg-black/95 backdrop-blur border-b border-white/10 sticky top-20 z-40 py-4">
    <div class="max-w-[1600px] mx-auto px-4 flex flex-col md:flex-row justify-between items-center gap-4">
        <div class="flex gap-2 p-1 rounded-lg overflow-x-auto w-full md:w-auto no-scrollbar">
            <button onclick="MatchEngine.setFilter('all')" id="btn-all" class="filter-btn px-6 py-2 rounded font-bold text-sm uppercase bg-white text-black transition whitespace-nowrap shadow-[0_0_15px_rgba(255,255,255,0.2)]">All Matches</button>
            <button onclick="MatchEngine.setFilter('group')" id="btn-group" class="filter-btn px-6 py-2 rounded font-bold text-sm uppercase text-gray-500 hover:text-white transition whitespace-nowrap">Group Stage</button>
            <button onclick="MatchEngine.setFilter('knockout')" id="btn-knockout" class="filter-btn px-6 py-2 rounded font-bold text-sm uppercase text-gray-500 hover:text-white transition whitespace-nowrap">Knockout</button>
            <button onclick="MatchEngine.setFilter('calendar')" id="btn-calendar" class="filter-btn px-6 py-2 rounded font-bold text-sm uppercase text-gray-500 hover:text-white transition whitespace-nowrap flex items-center gap-2"><i data-lucide="calendar" class="w-3 h-3"></i> Calendar</button>
                <!-- Venue filter dropdown (filters to a specific city/stadium) -->
                <select id="venue-filter-select" class="ml-3 bg-black/70 border border-white/10 text-white text-sm rounded px-3 py-2 outline-none">
                    <option value="">All Venues</option>
                </select>
                <button id="btn-clear-venue" onclick="MatchEngine.clearVenue()" class="ml-2 px-4 py-2 rounded text-sm uppercase tracking-wide bg-white/5 text-gray-300 border border-white/10 hidden">Clear</button>
        </div>
        <div class="flex items-center gap-2">
            <div class="text-gray-500 text-xs font-mono hidden md:block tracking-widest">OFFICIAL MATCH SCHEDULE</div>
        </div>
            <script>
                <!-- Venue select is populated by MatchEngine.populateVenueSelect() to ensure the script runs when matches.html is injected. -->
                            for(const o of select.options){ if(o.value.toLowerCase().includes(vf)){ select.value = o.value; break; } }
                        }
                    }

                    // initial populate and retries to handle timing where index.html data might load slightly later
                    populate();
                    setTimeout(populate, 150);
                    setTimeout(populate, 800);

                    // wire change (guard if select remains empty)
                    try{ select.addEventListener('change', function(){ const v = this.value; if(!v) MatchEngine.clearVenue(); else MatchEngine.setVenue(v); }); } catch(e){}
                    window.updateVenueSelectFromEngine = function(){ try{ if(!select) return; if(window.MatchEngine && MatchEngine.venueFilter){ const vf = MatchEngine.venueFilter.toLowerCase(); for(const o of select.options){ if(o.value.toLowerCase().includes(vf)){ select.value = o.value; return; } } } else { select.value = ''; } }catch(e){} };
                })();
            </script>
    </div>
</div>

<div class="max-w-[1600px] mx-auto px-4 py-8">
    <div id="matches-container" class="grid gap-6 animate-fade-in min-h-[50vh]">
        <div class="col-span-full flex flex-col justify-center items-center py-32 text-gray-600">
            <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-500 mb-4"></div>
            <p class="text-xs uppercase tracking-widest">Loading Fixtures...</p>
        </div>
    </div>
</div>