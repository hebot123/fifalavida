<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FIFA La Vida | World Cup 26™ Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        /* Brand Fonts */
        body { font-family: 'Inter', sans-serif; }
        h1, h2, h3, h4, h5, h6, .brand-font { font-family: 'Oswald', sans-serif; text-transform: uppercase; }
        
        /* FIFA 26™ Inspired Theme - High Contrast */
        :root {
            --brand-black: #000000;
            --brand-white: #FFFFFF;
            --brand-accent: #34D399; /* Emerald-ish accent for data */
        }

        /* Custom Patterns */
        .brand-pattern {
            background-color: #000000;
            background-image: radial-gradient(#333 1px, transparent 1px);
            background-size: 20px 20px;
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #111; }
        ::-webkit-scrollbar-thumb { background: #444; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #fff; }

        /* Animations */
        @keyframes pulse-live {
            0% { box-shadow: 0 0 0 0 rgba(52, 211, 153, 0.4); }
            70% { box-shadow: 0 0 0 6px rgba(52, 211, 153, 0); }
            100% { box-shadow: 0 0 0 0 rgba(52, 211, 153, 0); }
        }
        .live-indicator {
            animation: pulse-live 2s infinite;
        }
        
        .article-card:hover img {
            transform: scale(1.05);
        }
        
        /* Utility for hiding scrollbar but keeping functionality */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        /* Countdown Box Style */
        .countdown-box {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
    </style>
</head>
<body class="bg-black text-white flex flex-col min-h-screen selection:bg-emerald-500 selection:text-black">

    <!-- Navigation -->
    <nav class="bg-black/90 border-b border-white/10 sticky top-0 z-50 backdrop-blur-md">
        <div class="max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <!-- Logo -->
                <div class="flex-shrink-0 flex items-center gap-3 cursor-pointer group" onclick="app.router('home')">
                    <div class="bg-white text-black p-1 rounded-sm relative overflow-hidden">
                        <div class="absolute inset-0 bg-emerald-500 mix-blend-multiply opacity-0 group-hover:opacity-100 transition"></div>
                        <i data-lucide="trophy" class="h-6 w-6 relative z-10"></i>
                    </div>
                    <div class="flex flex-col leading-none">
                        <span class="brand-font text-2xl font-bold tracking-tighter group-hover:text-emerald-400 transition">FIFA LA VIDA</span>
                        <span class="text-[10px] uppercase tracking-[0.2em] text-gray-500 group-hover:text-gray-300">World Cup Hub</span>
                    </div>
                </div>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex space-x-1 items-center">
                    <button onclick="app.router('home')" class="nav-btn text-white bg-white/10 px-4 py-2 rounded text-sm font-bold uppercase tracking-wide transition hover:bg-white hover:text-black" data-target="home">Home</button>
                    <button onclick="app.router('news')" class="nav-btn text-gray-300 px-4 py-2 rounded text-sm font-bold uppercase tracking-wide transition hover:bg-white hover:text-black" data-target="news">Analysis</button>
                    <button onclick="app.router('tournament')" class="nav-btn text-gray-300 px-4 py-2 rounded text-sm font-bold uppercase tracking-wide transition hover:bg-white hover:text-black flex items-center gap-2" data-target="tournament">
                        <i data-lucide="layout-grid" class="w-4 h-4"></i> Matches
                    </button>
                    <div class="h-6 w-px bg-white/20 mx-4"></div>
                    <a href="https://collect.fifa.com/?referrer=fifalavida" target="_blank" class="bg-white text-black hover:bg-emerald-400 px-6 py-2 rounded font-bold text-sm uppercase transition flex items-center gap-2">
                        <i data-lucide="gem" class="w-4 h-4"></i> FIFA Collect
                    </a>
                </div>

                <!-- Mobile Toggle -->
                <button id="mobile-menu-btn" class="md:hidden text-white"><i data-lucide="menu" class="h-8 w-8"></i></button>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-black border-b border-white/10 absolute w-full left-0 top-20">
            <div class="px-4 pt-2 pb-4 space-y-2">
                <button onclick="app.router('home')" class="block w-full text-left text-white py-3 font-bold uppercase border-b border-white/10">Home</button>
                <button onclick="app.router('news')" class="block w-full text-left text-white py-3 font-bold uppercase border-b border-white/10">Analysis</button>
                <button onclick="app.router('tournament')" class="block w-full text-left text-white py-3 font-bold uppercase border-b border-white/10">Matches & Bracket</button>
                <a href="https://collect.fifa.com/?referrer=fifalavida" target="_blank" class="block text-center bg-white text-black py-3 mt-4 font-bold uppercase rounded">FIFA Collect</a>
            </div>
        </div>
    </nav>

    <!-- MAIN CONTAINER -->
    <main id="main-content" class="flex-grow">
        
        <!-- HOME VIEW -->
        <div id="home-view" class="view-section">
            <!-- Hero -->
            <div class="relative min-h-[85vh] flex items-center justify-center overflow-hidden brand-pattern group">
                <div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1518091043644-c1d4457512c6?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80')] bg-cover bg-center opacity-40 group-hover:scale-105 transition duration-[20s]"></div>
                <div class="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"></div>
                <div class="absolute inset-0 bg-gradient-to-r from-black/80 via-transparent to-black/80"></div>
                
                <div class="relative z-10 text-center px-4 max-w-5xl mx-auto mt-10">
                    <div class="inline-flex items-center gap-3 border border-emerald-500/30 bg-emerald-900/20 backdrop-blur px-4 py-1.5 rounded-full mb-8 animate-fade-up">
                        <div class="w-2 h-2 bg-emerald-500 rounded-full live-indicator"></div>
                        <span class="text-xs font-bold uppercase tracking-widest text-emerald-400">Road to 2026</span>
                    </div>
                    <h1 class="text-7xl md:text-[10rem] font-bold mb-2 leading-[0.85] tracking-tighter drop-shadow-2xl">
                        FIFA <span class="text-transparent bg-clip-text bg-gradient-to-br from-white to-gray-600">LA VIDA</span>
                    </h1>
                    <p class="text-xl md:text-2xl text-gray-300 max-w-2xl mx-auto font-light mb-8 mt-6">
                        The unofficial heartbeat of the 2026 World Cup. <br>
                        <span class="text-emerald-400 font-bold">104 Matches. 48 Teams. 3 Host Nations.</span>
                    </p>

                    <!-- COUNTDOWN TIMER -->
                    <div class="flex flex-wrap justify-center gap-4 mb-12" id="countdown-container">
                        <div class="countdown-box p-4 rounded-lg w-24 md:w-32">
                            <div class="text-3xl md:text-5xl font-bold font-mono" id="cd-days">00</div>
                            <div class="text-xs uppercase tracking-widest text-gray-400">Days</div>
                        </div>
                        <div class="countdown-box p-4 rounded-lg w-24 md:w-32">
                            <div class="text-3xl md:text-5xl font-bold font-mono" id="cd-hours">00</div>
                            <div class="text-xs uppercase tracking-widest text-gray-400">Hours</div>
                        </div>
                        <div class="countdown-box p-4 rounded-lg w-24 md:w-32">
                            <div class="text-3xl md:text-5xl font-bold font-mono" id="cd-minutes">00</div>
                            <div class="text-xs uppercase tracking-widest text-gray-400">Mins</div>
                        </div>
                        <div class="countdown-box p-4 rounded-lg w-24 md:w-32 border-emerald-500/30">
                            <div class="text-3xl md:text-5xl font-bold font-mono text-emerald-400" id="cd-seconds">00</div>
                            <div class="text-xs uppercase tracking-widest text-emerald-500/80">Secs</div>
                        </div>
                    </div>

                    <div class="flex flex-col md:flex-row gap-4 justify-center">
                        <button onclick="app.router('tournament')" class="bg-white text-black hover:bg-emerald-400 transition-colors font-bold text-lg px-10 py-4 rounded uppercase tracking-widest shadow-[0_0_30px_rgba(255,255,255,0.1)]">
                            Match Schedule
                        </button>
                        <button onclick="app.router('news')" class="bg-transparent border border-white/30 text-white hover:bg-white/10 transition-colors font-bold text-lg px-10 py-4 rounded uppercase tracking-widest">
                            Latest Analysis
                        </button>
                    </div>
                </div>
            </div>

            <!-- Featured News Preview -->
            <div class="max-w-[1400px] mx-auto px-4 py-20">
                <div class="flex justify-between items-end mb-10">
                    <div>
                        <h2 class="text-4xl font-bold mb-2">MATCH <span class="text-emerald-400">ANALYSIS</span></h2>
                        <p class="text-gray-500">Breakdowns, predictions, and player profiles.</p>
                    </div>
                    <button onclick="app.router('news')" class="hidden md:flex items-center gap-2 text-sm font-bold uppercase hover:text-emerald-400 transition">View All <i data-lucide="arrow-right" class="w-4 h-4"></i></button>
                </div>

                <!-- LOADING STATE -->
                <div id="home-news-loading" class="text-center py-10">
                     <div class="inline-block w-8 h-8 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"></div>
                     <p class="text-gray-500 mt-4 text-xs uppercase tracking-widest">Fetching Content...</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 hidden" id="home-news-grid">
                    <!-- Injected by JS -->
                </div>
            </div>
        </div>

        <!-- NEWS LIST VIEW -->
        <div id="news-view" class="view-section hidden pt-10 pb-20">
            <div class="max-w-[1400px] mx-auto px-4">
                <h1 class="text-6xl md:text-8xl font-bold mb-10 text-transparent bg-clip-text bg-gradient-to-b from-white to-gray-800">ANALYSIS</h1>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-12" id="full-news-grid">
                    <!-- Populated by JS -->
                </div>
            </div>
        </div>

        <!-- ARTICLE READING VIEW -->
        <div id="article-view" class="view-section hidden bg-black min-h-screen pb-20">
            <div id="article-loader" class="text-center py-32 hidden">
                <div class="inline-block w-8 h-8 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"></div>
                <p class="text-gray-500 mt-4 text-xs uppercase tracking-widest">Loading Article...</p>
            </div>
            
            <div id="article-content" class="max-w-3xl mx-auto px-4 pt-10">
                <!-- Dynamic Article -->
            </div>
        </div>

        <!-- TOURNAMENT VIEW -->
        <div id="tournament-view" class="view-section hidden bg-[#050505] min-h-screen">
             <!-- Sticky Sub-Nav -->
             <div class="bg-black/95 backdrop-blur border-b border-white/10 sticky top-20 z-40 py-4">
                <div class="max-w-[1600px] mx-auto px-4 flex flex-col md:flex-row justify-between items-center gap-4">
                    <div class="flex gap-2 p-1 rounded-lg overflow-x-auto w-full md:w-auto no-scrollbar">
                        <button onclick="app.setFilter('all')" id="btn-all" class="filter-btn px-6 py-2 rounded font-bold text-sm uppercase bg-white text-black transition whitespace-nowrap shadow-[0_0_15px_rgba(255,255,255,0.2)]">All Matches</button>
                        <button onclick="app.setFilter('group')" id="btn-group" class="filter-btn px-6 py-2 rounded font-bold text-sm uppercase text-gray-500 hover:text-white transition whitespace-nowrap">Group Stage</button>
                        <button onclick="app.setFilter('knockout')" id="btn-knockout" class="filter-btn px-6 py-2 rounded font-bold text-sm uppercase text-gray-500 hover:text-white transition whitespace-nowrap">Knockout</button>
                        <button onclick="app.setFilter('calendar')" id="btn-calendar" class="filter-btn px-6 py-2 rounded font-bold text-sm uppercase text-gray-500 hover:text-white transition whitespace-nowrap flex items-center gap-2"><i data-lucide="calendar" class="w-3 h-3"></i> Calendar</button>
                    </div>
                </div>
            </div>

            <div class="max-w-[1600px] mx-auto px-4 py-8">
                <div id="matches-container" class="grid gap-6 animate-fade-in">
                    <!-- Content populated by JS -->
                </div>
            </div>
        </div>

    </main>

    <footer class="bg-black border-t border-white/10 py-12 mt-auto">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <div class="flex justify-center items-center gap-2 mb-4">
                 <i data-lucide="trophy" class="h-5 w-5 text-emerald-400"></i>
                 <div class="brand-font text-2xl font-bold">FIFA LA VIDA</div>
            </div>
            <p class="text-gray-500 text-sm mb-8 max-w-md mx-auto">
                The ultimate unofficial companion for the 2026 World Cup. Built by fans, for fans.
            </p>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 max-w-2xl mx-auto text-xs text-gray-500 uppercase tracking-widest mb-12">
                <a href="#" class="hover:text-emerald-400 transition" onclick="app.router('home')">Home</a>
                <a href="#" class="hover:text-emerald-400 transition" onclick="app.router('news')">Analysis</a>
                <a href="#" class="hover:text-emerald-400 transition" onclick="app.router('tournament')">Bracket</a>
                <a href="mailto:admin@fifalavida.com" class="hover:text-emerald-400 transition">Contact</a>
            </div>
            <p class="text-gray-700 text-[10px]">Not affiliated with FIFA.</p>
        </div>
    </footer>

    <script>
        // --- HELPERS (Flags) ---
        const countryCodes = { "Mexico": "mx", "Canada": "ca", "USA": "us", "Argentina": "ar", "Brazil": "br", "France": "fr", "Germany": "de", "Spain": "es", "England": "gb-eng", "Portugal": "pt", "Netherlands": "nl", "Italy": "it", "Belgium": "be", "Croatia": "hr", "Uruguay": "uy", "Colombia": "co", "Japan": "jp", "South Korea": "kr", "Australia": "au", "Morocco": "ma", "Senegal": "sn", "Cameroon": "cm", "Ghana": "gh", "Saudi Arabia": "sa", "Iran": "ir", "Qatar": "qa", "Switzerland": "ch", "Denmark": "dk", "Sweden": "se", "Poland": "pl" };
        function getFlagHTML(teamName) {
            const cleanName = teamName.replace(/<[^>]*>?/gm, '').trim();
            if (countryCodes[cleanName]) return `<img src="https://flagcdn.com/24x18/${countryCodes[cleanName]}.png" class="w-5 h-3.5 object-cover rounded-sm shadow-sm inline-block mr-2">`;
            return `<i data-lucide="globe" class="w-4 h-4 text-gray-600 inline-block mr-2 align-middle"></i>`;
        }

        // --- APP ENGINE ---
        const app = {
            state: { view: 'home', filter: 'all' },
            newsData: [], 
            
            // FALLBACK DATA (For Canvas/Preview Mode)
            fallbackData: [
                 {
                    id: 1,
                    title: "Bracketology: The 'Path of Death' in Group C",
                    category: "Bracket Analysis",
                    image: "https://images.unsplash.com/photo-1574629810360-7efbbe195018?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    date: "Oct 26, 2025",
                    snippet: "Why finishing second in Group C might be a tactical masterstroke to avoid the tournament favorites in the Round of 32.",
                    filename: "article-1.html",
                    content: `
                        <p class="lead mb-6 text-xl text-gray-300">In the expanded 48-team format, winning your group isn't always the golden ticket it used to be.</p>
                        <p class="mb-4">Our simulation of the Group C bracket path reveals a startling anomaly. The winner of Group C is projected to face the runner-up of Group F in the Round of 32—a spot historically occupied by European heavyweights like Germany or France.</p>
                        <p class="mb-4">However, the runner-up of Group C enters the lower bracket half, potentially facing a 'best 3rd place' team. For mid-tier nations, tactical losses in the final group game could be the difference between a Quarter-final run and an early exit.</p>
                        <h3 class="text-2xl font-bold text-white mt-8 mb-4">The Data</h3>
                        <p class="mb-4">Running 10,000 simulations, the Group C runner-up reaches the Quarter-finals 18% more often than the Group Winner.</p>
                    `
                },
                {
                    id: 2,
                    title: "Player Watch: The Next Generation #10s",
                    category: "Scouting",
                    image: "https://images.unsplash.com/photo-1517466787929-bc90951d0974?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    date: "Oct 24, 2025",
                    snippet: "The classic playmaker is evolving. We analyze three young stars redefining the role before 2026.",
                    filename: "article-2.html",
                    content: `
                        <p class="lead mb-6 text-xl text-gray-300">The era of the stationary #10 is dead. The 2026 World Cup will belong to the hybrid playmaker.</p>
                        <p class="mb-4">We are tracking the progress of three key players:</p>
                        <ul class="list-disc pl-5 mb-4 space-y-2 text-gray-400">
                            <li><strong>Florian Wirtz (Germany):</strong> Averaging 3.4 key passes per game, he operates in the half-spaces like a phantom.</li>
                            <li><strong>Jamal Musiala (Germany):</strong> His dribble success rate (68%) makes him the ultimate low-block breaker.</li>
                            <li><strong>Kendry Páez (Ecuador):</strong> The teenage sensation will likely be the youngest starter in the tournament, bringing fearless creativity.</li>
                        </ul>
                    `
                },
                {
                    id: 3,
                    title: "Tactics: Why 3-5-2 Will Dominate North America",
                    category: "Tactics",
                    image: "https://images.unsplash.com/photo-1522778119026-d647f0565c6a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    date: "Oct 22, 2025",
                    snippet: "Heat, travel, and wide pitches. Why the wing-back system is the meta for the 2026 conditions.",
                    filename: "article-3.html",
                    content: `
                        <p class="lead mb-6 text-xl text-gray-300">The conditions in 2026 will be unlike any European World Cup. The travel distances are vast, and the summer heat in cities like Miami and Dallas will be punishing.</p>
                        <p class="mb-4">Historically, back-three systems perform better in high-temperature tournaments (see: 2002, 2014). By utilizing wing-backs, teams can conserve energy in central areas while creating overload in wide channels.</p>
                        <p class="mb-4">Expect managers to abandon the high-pressing 4-3-3 for a more compact 3-5-2 that prioritizes transition speed over possession.</p>
                    `
                }
            ],

            init: () => {
                lucide.createIcons();
                app.startCountdown();
                app.generateMatches();
                app.fetchNews(); // NEW: Fetch external news list
                
                document.getElementById('mobile-menu-btn').addEventListener('click', () => {
                    document.getElementById('mobile-menu').classList.toggle('hidden');
                });
            },

            // --- EXTERNAL CONTENT LOADING ---
            
            fetchNews: async () => {
                try {
                    // Try to fetch the manifest file (Standard path)
                    const response = await fetch('news.json');
                    if (!response.ok) throw new Error("Could not fetch news manifest");
                    app.newsData = await response.json();
                } catch (e) {
                    // SILENT FAILURE / FALLBACK
                    // This is expected in Canvas/Preview since news.json doesn't exist here.
                    console.log("Using internal fallback data (Preview Mode)");
                    app.newsData = app.fallbackData;
                }
                
                // Update UI (Runs for both Success and Fallback)
                const loading = document.getElementById('home-news-loading');
                if(loading) loading.classList.add('hidden');
                
                document.getElementById('home-news-grid').classList.remove('hidden');
                app.renderNews();
            },

            loadArticleContent: async (filename, articleId) => {
                try {
                    if(!filename) throw new Error("No filename");
                    const response = await fetch(`articles/${filename}`);
                    if (!response.ok) throw new Error("External file not found");
                    return await response.text();
                } catch (e) {
                    // FALLBACK FOR ARTICLE CONTENT
                    const fallback = app.newsData.find(n => n.id === articleId);
                    if(fallback && fallback.content) return fallback.content;
                    
                    return "<p>Article content could not be loaded. (Please check your 'articles' folder).</p>";
                }
            },

            // Navigation Logic
            router: async (viewName, param = null) => {
                window.scrollTo({top: 0, behavior: 'smooth'});
                app.state.view = viewName;

                document.querySelectorAll('.view-section').forEach(el => el.classList.add('hidden'));
                document.getElementById('mobile-menu').classList.add('hidden');

                if(viewName === 'article' && param) {
                    await app.renderArticle(param);
                    document.getElementById('article-view').classList.remove('hidden');
                } else {
                    document.getElementById(`${viewName}-view`).classList.remove('hidden');
                }
                
                // Active Nav State logic
                document.querySelectorAll('.nav-btn').forEach(btn => {
                    if(btn.dataset.target === viewName) {
                        btn.classList.remove('text-gray-300', 'bg-white/10');
                        btn.classList.add('bg-white', 'text-black');
                    } else {
                        btn.classList.add('text-gray-300', 'bg-white/10');
                        btn.classList.remove('bg-white', 'text-black');
                    }
                });
                if(viewName === 'tournament') app.renderMatches();
                lucide.createIcons();
            },

            // Render Full Article
            renderArticle: async (id) => {
                const article = app.newsData.find(n => n.id === id);
                if(!article) return;

                const contentDiv = document.getElementById('article-content');
                const loader = document.getElementById('article-loader');
                
                // Show loader, hide old content
                contentDiv.innerHTML = '';
                loader.classList.remove('hidden');

                // Fetch the body content from the file
                const bodyHTML = await app.loadArticleContent(article.filename, article.id);

                loader.classList.add('hidden');
                contentDiv.innerHTML = `
                    <button onclick="app.router('news')" class="text-gray-400 hover:text-white mb-8 flex items-center gap-2 text-sm uppercase font-bold tracking-widest transition">
                        <i data-lucide="arrow-left" class="w-4 h-4"></i> Back to Analysis
                    </button>
                    
                    <div class="mb-8">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="bg-emerald-500/20 text-emerald-400 px-3 py-1 rounded text-xs font-bold uppercase tracking-wider border border-emerald-500/30">${article.category}</span>
                            <span class="text-gray-500 text-xs flex items-center gap-1"><i data-lucide="clock" class="w-3 h-3"></i> ${article.date}</span>
                        </div>
                        <h1 class="text-4xl md:text-6xl font-bold font-oswald mb-6 leading-tight">${article.title}</h1>
                    </div>

                    <div class="w-full h-[400px] mb-10 rounded-xl overflow-hidden relative border border-white/10">
                        <img src="${article.image}" class="w-full h-full object-cover">
                    </div>

                    <div class="prose prose-invert prose-lg max-w-none text-gray-300">
                        ${bodyHTML}
                    </div>
                `;
                lucide.createIcons();
            },

            // Render News Cards
            renderNews: () => {
                const homeGrid = document.getElementById('home-news-grid');
                const fullGrid = document.getElementById('full-news-grid');
                
                const createCard = (article) => `
                    <div onclick="app.router('article', ${article.id})" class="article-card group cursor-pointer bg-white/5 border border-white/10 rounded-xl overflow-hidden hover:border-emerald-500/50 transition relative">
                        <div class="h-48 overflow-hidden relative">
                            <img src="${article.image}" class="w-full h-full object-cover transition duration-700">
                            <div class="absolute top-2 left-2 bg-black/80 backdrop-blur text-white text-[10px] font-bold uppercase px-2 py-1 rounded border border-white/10">
                                ${article.category}
                            </div>
                        </div>
                        <div class="p-6">
                            <div class="text-gray-500 text-xs mb-2 flex items-center gap-2">
                                <i data-lucide="clock" class="w-3 h-3"></i> ${article.date}
                            </div>
                            <h3 class="text-xl font-bold font-oswald mb-2 leading-tight group-hover:text-emerald-400 transition">${article.title}</h3>
                            <p class="text-gray-400 text-sm line-clamp-2">${article.snippet}</p>
                            <div class="mt-4 flex items-center text-emerald-400 text-xs font-bold uppercase tracking-widest opacity-0 group-hover:opacity-100 transition transform translate-y-2 group-hover:translate-y-0">
                                Read Full Story <i data-lucide="arrow-right" class="w-3 h-3 ml-1"></i>
                            </div>
                        </div>
                    </div>
                `;
                if(homeGrid) homeGrid.innerHTML = app.newsData.slice(0, 3).map(createCard).join('');
                if(fullGrid) fullGrid.innerHTML = app.newsData.map(createCard).join('');
            },

            // Countdown Logic
            startCountdown: () => {
                const targetDate = new Date('June 11, 2026 12:00:00').getTime();
                setInterval(() => {
                    const now = new Date().getTime();
                    const distance = targetDate - now;
                    if (distance < 0) {
                        document.getElementById("countdown-container").innerHTML = "<div class='text-2xl font-bold text-emerald-400'>THE TOURNAMENT IS LIVE!</div>";
                        return;
                    }
                    document.getElementById("cd-days").innerText = String(Math.floor(distance / (1000 * 60 * 60 * 24))).padStart(2, '0');
                    document.getElementById("cd-hours").innerText = String(Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))).padStart(2, '0');
                    document.getElementById("cd-minutes").innerText = String(Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60))).padStart(2, '0');
                    document.getElementById("cd-seconds").innerText = String(Math.floor((distance % (1000 * 60)) / 1000)).padStart(2, '0');
                }, 1000);
            },

            // --- BRACKET ENGINE (RESTORED) ---
            matches: [],
            generateMatches: () => {
                app.matches = [];
                const groups = ['A','B','C','D','E','F','G','H','I','J','K','L'];
                const cities = ["Mexico City", "New York/NJ", "Dallas", "Kansas City", "Houston", "Atlanta", "Los Angeles", "Philadelphia", "Seattle", "San Francisco", "Boston", "Miami", "Toronto", "Vancouver", "Guadalajara", "Monterrey"];
                
                // 1. Generate Group Stage (6 matches * 12 groups = 72 matches)
                let matchId = 1;
                groups.forEach((g, index) => {
                    const teams = index === 0 ? ["Mexico", "TBD", "TBD", "TBD"] : // Mexico in Group A
                                  index === 1 ? ["Canada", "TBD", "TBD", "TBD"] : // Canada in Group B
                                  index === 3 ? ["USA", "TBD", "TBD", "TBD"] :    // USA in Group D
                                  ["TBD", "TBD", "TBD", "TBD"];
                    
                    // Simple Round Robin Logic
                    const pairs = [[0,1], [2,3], [0,2], [1,3], [0,3], [1,2]];
                    pairs.forEach((pair, pIdx) => {
                         app.matches.push({
                            id: matchId++,
                            stage: "Group Stage",
                            group: `Group ${g}`,
                            teamA: teams[pair[0]],
                            teamB: teams[pair[1]],
                            date: `June ${11 + Math.floor(matchId/4)}`, // Fake dates
                            stadium: cities[matchId % cities.length]
                        });
                    });
                });

                // 2. Round of 32 (16 Matches)
                for(let i=0; i<16; i++) {
                     app.matches.push({ id: matchId++, stage: "Round of 32", teamA: "Group Winner", teamB: "Group Runner-up", date: "June 28-July 3", stadium: cities[i%cities.length] });
                }

                // 3. Round of 16 (8 Matches)
                for(let i=0; i<8; i++) {
                     app.matches.push({ id: matchId++, stage: "Round of 16", teamA: "R32 Winner", teamB: "R32 Winner", date: "July 4-7", stadium: cities[i%cities.length] });
                }

                // 4. Quarter Finals (4 Matches)
                for(let i=0; i<4; i++) {
                     app.matches.push({ id: matchId++, stage: "Quarter Final", teamA: "R16 Winner", teamB: "R16 Winner", date: "July 9-11", stadium: cities[i%cities.length] });
                }

                // 5. Semi Finals
                app.matches.push({ id: 101, stage: "Semi Final", teamA: "QF Winner 1", teamB: "QF Winner 2", date: "July 14", stadium: "Dallas" });
                app.matches.push({ id: 102, stage: "Semi Final", teamA: "QF Winner 3", teamB: "QF Winner 4", date: "July 15", stadium: "Atlanta" });

                // 6. Finals
                app.matches.push({ id: 103, stage: "Third Place", teamA: "Semi Loser 1", teamB: "Semi Loser 2", date: "July 18", stadium: "Miami" });
                app.matches.push({ id: 104, stage: "Final", teamA: "Semi Winner 1", teamB: "Semi Winner 2", date: "July 19", stadium: "New York/New Jersey" });
            },

            setFilter: (type) => { 
                app.state.filter = type;
                
                // Update Button Styles
                document.querySelectorAll('.filter-btn').forEach(btn => {
                    btn.classList.remove('bg-white', 'text-black', 'shadow-[0_0_15px_rgba(255,255,255,0.2)]');
                    btn.classList.add('text-gray-500', 'hover:text-white');
                    if(btn.id === `btn-${type}`) {
                         btn.classList.add('bg-white', 'text-black', 'shadow-[0_0_15px_rgba(255,255,255,0.2)]');
                         btn.classList.remove('text-gray-500', 'hover:text-white');
                    }
                });

                app.renderMatches(); 
            },

            renderMatches: () => {
                const container = document.getElementById('matches-container');
                container.innerHTML = '';

                let filtered = app.matches;
                if(app.state.filter === 'group') filtered = app.matches.filter(m => m.stage === "Group Stage");
                if(app.state.filter === 'knockout') filtered = app.matches.filter(m => m.stage !== "Group Stage");

                // Render
                if(app.state.filter === 'calendar') {
                    // Simple Calendar View
                    container.innerHTML = `<div class="text-center py-20 text-gray-500">Calendar View Coming Soon</div>`;
                    return;
                }

                // Group matches by Stage for cleaner UI
                const groups = {};
                filtered.forEach(m => {
                    const key = m.stage === "Group Stage" ? m.group : m.stage;
                    if(!groups[key]) groups[key] = [];
                    groups[key].push(m);
                });

                Object.keys(groups).forEach(groupName => {
                    const groupTitle = document.createElement('h3');
                    groupTitle.className = "text-2xl font-oswald text-emerald-400 mt-8 mb-4 border-b border-white/10 pb-2";
                    groupTitle.innerText = groupName;
                    container.appendChild(groupTitle);

                    const grid = document.createElement('div');
                    grid.className = "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4";
                    
                    groups[groupName].forEach(match => {
                        grid.innerHTML += app.getMatchCard(match);
                    });
                    container.appendChild(grid);
                });
                lucide.createIcons();
            },

            getMatchCard: (m) => {
                const isKnockout = m.stage !== "Group Stage";
                const cardClass = isKnockout ? "border-emerald-500/30 bg-emerald-900/10" : "border-white/10 bg-white/5";
                
                return `
                <div class="border ${cardClass} rounded-lg p-4 hover:bg-white/10 transition group relative overflow-hidden">
                    <div class="flex justify-between items-start mb-4">
                        <div class="text-xs font-bold text-gray-500 uppercase tracking-widest">Match ${m.id}</div>
                        <div class="text-xs text-gray-400 flex items-center gap-1"><i data-lucide="map-pin" class="w-3 h-3"></i> ${m.stadium}</div>
                    </div>
                    
                    <div class="flex justify-between items-center mb-2">
                        <div class="flex items-center gap-2 font-bold text-lg">
                            ${getFlagHTML(m.teamA)} ${m.teamA}
                        </div>
                        <div class="text-gray-600 font-mono text-sm">vs</div>
                        <div class="flex items-center gap-2 font-bold text-lg">
                            ${m.teamB} ${getFlagHTML(m.teamB)}
                        </div>
                    </div>

                    <div class="mt-4 pt-3 border-t border-white/5 flex justify-between items-center">
                         <span class="text-xs text-emerald-400 font-bold uppercase">${m.date}</span>
                         <button class="text-xs bg-white/10 hover:bg-white hover:text-black px-2 py-1 rounded transition">Get Tickets</button>
                    </div>
                </div>
                `;
            }
        };

        window.addEventListener('DOMContentLoaded', app.init);
    </script>
</body>
</html>